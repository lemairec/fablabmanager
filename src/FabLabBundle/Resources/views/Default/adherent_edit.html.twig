{% extends 'FabLabBundle::base_fablab.html.twig' %}

{% block body %}
<div class="container bs-docs-container">
    <div class="container">
        <form action="/adherent/edit" method="post">
            <div class="form-group row">
                <label for="inputNo" class="col-sm-2 col-form-label">Numéro adhérent</label>
                <div class="col-sm-10">
                    <input class="form-control" name="inputNo" id="inputNo" {% if adherent.no != 0 %}disabled {% endif %}value="{{adherent.no}}">
                </div>
            </div>
            <div class="form-group row">
                <label for="inputName" class="col-sm-2 col-form-label">Prénom</label>
                <div class="col-sm-10">
                    <input class="form-control" name="inputName" value="{{adherent.name}}">
                </div>
            </div>
            <div class="form-group row">
                <label for="inputSurname" class="col-sm-2 col-form-label">Nom</label>
                <div class="col-sm-10">
                    <input class="form-control" name="inputSurname" value="{{adherent.surname}}">
                </div>
            </div>
            <div class="form-group row">
                <label for="inputEmail" class="col-sm-2 col-form-label">Email</label>
                <div class="col-sm-10">
                    <input type="email" class="form-control" name="inputEmail" placeholder="Email">
                </div>
            </div>
            <div class="form-group row">
                <label for="inputCF" class="col-sm-2 col-form-label">CF</label>
                <div class="col-sm-10">
                    <input class="form-control" id="inputCF" disabled value="{{adherent.cf}}">
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Save</button>
        </form>
    </div>
    {% if adherent.no != 0 %} 
    <div class="container bs-docs-container">
        <div class="panel panel-default", style="width:100%">
            <!-- Default panel contents -->
            <div class="panel-heading">
                Adhésions
                <button type="button" class="btn btn-primary" onclick="window.location.href='/adherent/edit'">ADD</button>
            </div>
            <table class="table">
                <tr>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Prix</th>
                    <th>CF</th>
                </tr>
                {% for adhesion in adhesions %}
                <tr>
                    <td>"toto"</td>
                    {% if adhesion.type == 0 %}
                    <td>pro</td>
                    {% else %}
                    <td>particulier</td>
                    {% endif%}
                    <td>{{adhesion.price}}</td>
                    <td>{{adhesion.cf}}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="container bs-docs-container">
        <div class="panel panel-default", style="width:100%">
            <!-- Default panel contents -->
            <div class="panel-heading">
                Achat
                <button type="button" class="btn btn-primary" onclick="window.location.href='/achat/edit/0?adherent_no={{adherent.no}}'">ADD</button>
            </div>
            <table class="table">
                <tr>
                    <th>Date</th>
                    <th>Produit</th>
                    <th>Qty</th>
                    <th>Prix</th>
                </tr>
                {% for achat in achats %}
                <tr>
                    <td>{{achat.getDateStr()}}</td>
                    <td>{{achat.produit.name}}</td>
                    <td>{{achat.qty}} {{achat.produit.unite}}</td>
                    <td>{{achat.price}} CF</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    {% endif %}
{% endblock %}
