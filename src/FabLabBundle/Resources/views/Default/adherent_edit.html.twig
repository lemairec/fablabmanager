{% extends 'FabLabBundle::base_fablab.html.twig' %}

{% form_theme form _self %}

{% block form_row %}
<div class="form-group row">
    <div class="col-sm-2">
        {{ form_label(form) }}
    </div>

    <div class="col-sm-10">
        {{ form_widget(form, {'attr': {'class': 'form-control'}}) }}
    </div>
    {{ form_errors(form) }}
</div>
{% endblock form_row %}


{% block body %}

<!--ul class="nav nav-tabs">
    <li class="active"><a href="#">Home</a></li>
    <li><a href="#">Menu 1</a></li>
    <li><a href="#">Menu 2</a></li>
    <li><a href="#">Menu 3</a></li>
</ul-->

<div class="container">
    <div class="well">
        {{ form(form) }}
    </div>
    {% if adherent.no != 0 %} 
    <div class="container bs-docs-container">
        <div class="panel panel-default", style="width:100%">
            <!-- Default panel contents -->
            <div class="panel-heading">
                Adh√©sions
                <button type="button" class="btn btn-primary" onclick="window.location.href='/adhesion/edit/0?adherent_no={{adherent.no}}'">ADD</button>
            </div>
            <table class="table">
                <tr>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Prix</th>
                    <th>CF</th>
                </tr>
                {% for adhesion in adhesions %}
                <tr>
                    <td>{{adhesion.getDateStr()}}</td>
                    <td>{{ adhesion.type }}</td>
                    <td>{{adhesion.price}}</td>
                    <td>{{adhesion.cf}}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    <div class="container bs-docs-container">
        <div class="panel panel-default", style="width:100%">
            <!-- Default panel contents -->
            <div class="panel-heading">
                Rechargement
                <button type="button" class="btn btn-primary" onclick="window.location.href='/rechargement/edit/0?adherent_no={{adherent.no}}'">ADD</button>
            </div>
            <table class="table">
                <tr>
                    <th>Date</th>
                    <th>CF</th>
                </tr>
                {% for rechargement in rechargements %}
                <tr>
                    <td>{{rechargement.getDateStr()}}</td>
                    <td>{{rechargement.cf}}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>

    <div class="container bs-docs-container">
        <div class="panel panel-default", style="width:100%">
            <!-- Default panel contents -->
            <div class="panel-heading">
                Achat
                <button type="button" class="btn btn-primary" onclick="window.location.href='/achat/edit/0?adherent_no={{adherent.no}}'">ADD</button>
            </div>
            <table class="table">
                <tr>
                    <th>Date</th>
                    <th>Descriptif</th>
                    <th>Produit</th>
                    <th>Qty</th>
                    <th>Prix</th>
                </tr>
                {% for achat in achats %}
                <tr>
                    <td>{{achat.getDateStr()}}</td>
                    <td>{{achat.descriptif}}</td>
                    <td>{{achat.produit.name}}</td>
                    <td>{{achat.qty}} {{achat.produit.unite}}</td>
                    <td>{{achat.price}} CF</td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    {% endif %}
{% endblock %}
